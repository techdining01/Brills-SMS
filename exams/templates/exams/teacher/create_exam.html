{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h4>Create New Exam</h4>

  <form method="post">
    {% csrf_token %}
    
    <div class="mb-3">
      <label class="form-label">Exam Title</label>
      <input type="text" class="form-control" name="title" placeholder="Enter exam title" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Class</label>
      <select class="form-select" name="school_class" required>
        <option value="">Select Class</option>
        {% for cls in classes %}
          <option value="{{ cls.id }}">{{ cls.name }} {{ cls.arm }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="row mb-3">
      <div class="col">
        <label class="form-label">Duration (minutes)</label>
        <input type="number" class="form-control" name="duration" min="1" required>
      </div>
      <div class="col">
        <label class="form-label">Allow Retake</label>
        <select class="form-select" name="allow_retake">
          <option value="False" selected>No</option>
          <option value="True">Yes</option>
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col">
        <label class="form-label">Start Time</label>
        <input type="datetime-local" class="form-control" name="start_time" required>
      </div>
      <div class="col">
        <label class="form-label">End Time</label>
        <input type="datetime-local" class="form-control" name="end_time" required>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Question Type</label>
      <select class="form-select" name="question_type" required>
        <option value="objective">Objective</option>
        <option value="subjective">Subjective (Theory)</option>
      </select>
      <small class="text-muted">Multiple-choice will be auto-graded, subjective requires teacher grading.</small>
    </div>

    <div class="mb-3">
      <label class="form-label">Description / Instructions</label>
      <textarea class="form-control" name="description" rows="3" placeholder="Optional"></textarea>
    </div>

    <button type="submit" class="btn btn-success">Create Exam</button>
  </form>
</div>
{% endblock %}
