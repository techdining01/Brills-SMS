{% extends "admin/dashboard.html" %}
{% block title %}Exam Management{% endblock %}

{% block content %}
<div class="container-fluid">
  <h4 class="mb-3">üìù Exams Management</h4>

  <table class="table table-hover bg-white shadow-sm">
    <thead>
      <tr>
        <th>Title</th>
        <th>Class</th>
        <th>Created By</th>
        <th>Published</th>
        <th>Retake</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for exam in exams %}
      <tr>
        <td>{{ exam.title }}</td>
        <td>{{ exam.classroom }}</td>
        <td>{{ exam.created_by.get_full_name }}</td>
        <td>
          {% if exam.is_published %}
            <span class="badge bg-success">Live</span>
          {% else %}
            <span class="badge bg-secondary">Draft</span>
          {% endif %}
        </td>
        <td>
          {% if exam.allow_retake %}
            <span class="badge bg-info">Enabled</span>
          {% else %}
            <span class="badge bg-danger">Disabled</span>
          {% endif %}
        </td>
        <td>
          <a href="{% url 'exams:admin_toggle_publish_exam' exam.id %}"
             class="btn btn-sm btn-outline-primary">Publish</a>

          <a href="{% url 'exams:admin_toggle_retake' exam.id %}"
             class="btn btn-sm btn-outline-warning">Retake</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
