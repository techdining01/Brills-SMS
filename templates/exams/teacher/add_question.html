{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h5 class="fw-bold">Add Question â€” {{ exam.title }}</h5>

  <form method="post">
    {% csrf_token %}

    <textarea class="form-control mt-3" name="text" placeholder="Question text" required></textarea>

    <select class="form-select mt-3" name="type" id="qType" onchange="toggleObjective()" required>
      <option value="">Select type</option>
      <option value="objective">Objective</option>
      <option value="subjective">Theory</option>
    </select>

    <input type="number" class="form-control mt-3" name="marks" placeholder="Marks" required>

    <div id="objectiveBlock" style="display:none;">
      <input class="form-control mt-2" name="A" placeholder="Option A">
      <input class="form-control mt-2" name="B" placeholder="Option B">
      <input class="form-control mt-2" name="C" placeholder="Option C">
      <input class="form-control mt-2" name="D" placeholder="Option D">

      <select class="form-select mt-2" name="correct">
        <option value="">Correct Answer</option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
        <option value="D">D</option>
      </select>
    </div>

    <button class="btn btn-success mt-4">Save Question</button>
  </form>
</div>

<script>
function toggleObjective() {
  const type = document.getElementById('qType').value;
  document.getElementById('objectiveBlock').style.display =
      type === 'objective' ? 'block' : 'none';
}
</script>
{% endblock %}
