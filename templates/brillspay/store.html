{% extends "base.html" %}
{% load static %}

{% block title %}Brillspay Store — The Brills School{% endblock %}

{% block content %}
<style>
  .hero {
    background-image: linear-gradient(160deg, rgba(7, 89, 133, 0.85) 0%, rgba(18,124,88,0.85) 100%), url('{% static "images/school-illustration.jpg" %}');
    background-size: cover;
    background-position: center;
    color: #fff;
    border-radius: 12px;
    padding: 60px 32px;
    margin-bottom: 36px;
    box-shadow: 0 10px 30px rgba(3, 10, 18, 0.15);
    transition: transform .45s cubic-bezier(.2,.9,.3,1), box-shadow .3s ease;
  }
  .hero:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(3,10,18,0.18) }
  .hero .cta { font-weight: 700; letter-spacing: .2px }

  .product-card { transition: transform .28s ease, box-shadow .28s ease }
  .product-card:hover { transform: translateY(-8px); box-shadow: 0 12px 30px rgba(0,0,0,.12) }
  .featured { margin-top: 18px }
  .fade-up { opacity: 0; transform: translateY(8px); transition: all .45s ease; }
  .fade-up.in { opacity: 1; transform: translateY(0); }

  @media (max-width: 768px) {
    .hero { padding: 36px 18px }
  }
</style>

<section class="hero d-flex flex-column flex-md-row align-items-center justify-content-between">
  <div style="max-width:680px">
    <h1 class="display-6 fw-bold">Welcome to Brillspay</h1>
    <p class="lead text-white-50">A curated school store where students can buy verified exam access and essential school items safely. Fast checkout, teacher-approved products and easy parental control.</p>

    <div class="d-flex gap-2 mt-4">
      <a class="btn btn-light btn-lg cta" href="{% url 'brillspay:brillspay_select_ward' %}">Shop Now</a>
      <a class="btn btn-outline-light btn-lg" href="#featured">Explore Featured</a>
    </div>

  </div>
  <div class="d-none d-md-block" style="width:360px">
    <img src="{% static 'images/school-illustration.jpg' %}" alt="Store illustration" style="width:100%;border-radius:10px;object-fit:cover;filter:grayscale(.02) brightness(.95)">
  </div>
</section>

<section id="featured" class="featured">
  <h4 class="mb-3">Featured Products</h4>
  <div class="row g-4">
    {% for product in products|slice:":8" %}
      <div class="col-6 col-md-3 fade-up">
        <div class="card product-card h-100">
          <div class="ratio ratio-4x3">
            {% if product.image %}
              <img src="{{ product.image.url }}" class="card-img-top object-fit-cover" alt="{{ product.name }}">
            {% else %}
              <img src="{% static 'images/default_product.png' %}" class="card-img-top object-fit-cover" alt="{{ product.name }}">
            {% endif %}
          </div>
          <div class="card-body d-flex flex-column">
            <h6 class="mb-1">{{ product.name }}</h6>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <span class="fw-bold">₦{{ product.price }}</span>
              <a href="{% url 'brillspay:brillspay_products' %}?ward={{ wards.0.id|default:'' }}" class="btn btn-sm btn-outline-primary">View</a>
            </div>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col-12">No products yet.</div>
    {% endfor %}
  </div>
</section>

<script>
  // reveal animation
  window.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.fade-up').forEach((el, i) => {
      setTimeout(() => el.classList.add('in'), 120 * i);
    });
  });
</script>

{% endblock %}